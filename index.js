import{a as N}from"./assets/vendor-BEnbeQyM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const M=document.getElementById("burgerBtn"),E=document.getElementById("mobileMenu"),T=document.getElementById("closeBtn"),x=E.querySelectorAll("a");M.addEventListener("click",()=>{E.classList.add("active")});T.addEventListener("click",()=>{E.classList.remove("active")});x.forEach(e=>{e.addEventListener("click",()=>{E.classList.remove("active")})});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const n=this.getAttribute("href"),o=document.querySelector(n);o&&o.scrollIntoView({behavior:"smooth",block:"start"})})});const S=N.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:5e3,headers:{"Content-Type":"application/json"}}),O="https://sound-wave.b.goit.study/api";async function D({page:e=1,limit:t=8}={}){try{return(await S.get("/artists",{params:{page:e,limit:t}})).data}catch(n){throw n}}async function P(e){try{return(await N.get(`${O}/artists/${e}`)).data}catch(t){throw console.error(`Failed to fetch artist with ID ${e}:`,t),t}}const $="/Stream116-js-prjt18/assets/icons-DUpbwh8u.svg",m=document.querySelector(".artist-modal-backdrop"),q=m.querySelector(".artist-modal-window"),u=m.querySelector(".artist-modal-content"),g=m.querySelector(".artist-modal-close-btn"),f=document.getElementById("artistModalLoader");function k(e){e.key==="Escape"&&h()}function B(e){e.target===m&&h()}function C(e,t){if(!t)return null;const n=document.createElement("div");n.className="folder-box";const o=document.createElement("h3");o.className="years-title",o.textContent=e;const r=document.createElement("p");return r.className="years-item",r.textContent=t,n.appendChild(o),n.appendChild(r),n}function U(e){if(!e||!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");return t.className="janr",e.forEach(n=>{const o=document.createElement("p");o.className="janr-item",o.textContent=n,t.appendChild(o)}),t}function j(e){if(!e||isNaN(e))return"--:--";const t=e>1e3?Math.round(e/1e3):e,n=Math.floor(t/60),o=t%60;return`${n}:${o.toString().padStart(2,"0")}`}function F(e){if(!Array.isArray(e)||e.length===0)return[];const t=new Map;return e.forEach(n=>{if(!n.strAlbum)return;t.has(n.strAlbum)||t.set(n.strAlbum,{strAlbum:n.strAlbum,tracks:[]});const o=n.movie||n.strTrackThumb&&n.strTrackThumb.replace("/preview","")||null;t.get(n.strAlbum).tracks.push({strTrack:n.strTrack,intDuration:n.intDuration,strMusicVid:o})}),Array.from(t.values())}function H(e){if(!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");t.className="tracks-container";const n=document.createElement("ul");return n.className="track-name",n.innerHTML=`
    <li class="name-column-item item-col-1">Track</li>
    <li class="name-column-item item-col-2">Time</li>
    <li class="name-column-item item-col-3">Link</li>
  `,t.appendChild(n),e.forEach((o,r)=>{const s=document.createElement("ul");s.className="track-name";const a=document.createElement("li");a.className="track-name-item item-col-1",a.textContent=o.strTrack||"Untitled";const l=document.createElement("li");l.className="track-name-item item-col-2",l.textContent=j(o.intDuration);const i=document.createElement("li");if(i.className="track-name-item item-col-3",o.strMusicVid){const c=document.createElement("a");c.href=o.strMusicVid,c.target="_blank",c.rel="noopener noreferrer",c.title=`Watch ${o.strTrack} on YouTube`,c.innerHTML=`
        <svg class="icon-youtube" width="24" height="24">
          <use href="${$}#icon-Youtube"></use>
        </svg>
      `,c.className="youtube-link",i.appendChild(c)}s.appendChild(a),s.appendChild(l),s.appendChild(i),t.appendChild(s)}),t}function R(e){if(!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");t.className="album-box";const n=document.createElement("h2");n.className="album-title",n.textContent="Albums",t.appendChild(n);const o=document.createElement("div");return o.className="albums-grid",e.forEach(r=>{const s=document.createElement("div");s.className="album-title-box";const a=document.createElement("h3");if(a.className="name-album",a.textContent=r.strAlbum||"Untitled Album",s.appendChild(a),r.tracks&&Array.isArray(r.tracks)){const l=H(r.tracks);l&&s.appendChild(l)}t.appendChild(s)}),t}function Y(e){u.innerHTML="";const t=F(e.tracksList),n=document.createElement("button");n.className="modal-close-btn",n.type="button",n.innerHTML=`
    <svg class="icon" width="24" height="24">
      <use href="./img/icons.svg#icon-close"></use>
    </svg>
  `,n.addEventListener("click",c=>{h()}),u.appendChild(n);const o=document.createElement("h2");o.className="title-name",o.textContent=e.strArtist,u.appendChild(o);const r=document.createElement("div");if(r.className="artist-info-container",e.strArtistThumb){const c=document.createElement("img");c.className="artist-photo",c.src=e.strArtistThumb,c.alt=e.strArtist,r.appendChild(c)}const s=document.createElement("div");s.className="folder";const a=document.createElement("div");a.className="key-info-container",[{title:"Years active",content:e.intFormedYear?`${e.intFormedYear}â€“present`:void 0},{title:"Sex",content:e.strGender},{title:"Members",content:e.intMembers||"1"},{title:"Country",content:e.strCountry}].forEach(c=>{const p=C(c.title,c.content);p&&a.appendChild(p)}),s.appendChild(a);const i=C("Biography",e.strBiographyEN);if(i&&(i.className="folder-box biography",s.appendChild(i)),e.genres&&Array.isArray(e.genres)){const c=U(e.genres);c&&s.appendChild(c)}if(r.appendChild(s),u.appendChild(r),t.length>0){const c=R(t);c&&u.appendChild(c)}else console.log("No albums data found or invalid format")}async function _(e){try{m.classList.remove("visually-hidden"),document.body.style.overflow="hidden",f&&(f.style.display="block");const t=await P(e);f&&(f.style.display="none"),Y(t),document.addEventListener("keydown",k),m.addEventListener("click",B),g&&g.addEventListener("click",h)}catch(t){console.error("Error opening modal:",t),h()}}function h(){document.body.style.overflow="",m.classList.add("visually-hidden"),document.removeEventListener("keydown",k),m.removeEventListener("click",B),g&&g.removeEventListener("click",h),u.innerHTML=""}document.addEventListener("DOMContentLoaded",()=>{window.modalSection=m,window.modalOverlay=q,window.modalContent=u,window.closeModalBtn=g,window.loader=f});const A=8;let L=1,y,d;const G=()=>{const e=document.getElementById("loader");e==null||e.classList.remove("hidden")},V=()=>{const e=document.getElementById("loader");e==null||e.classList.add("hidden")},K=e=>!e||typeof e!="object"?[]:Array.isArray(e.genres)?e.genres.filter(Boolean):[],z=e=>{const t=document.createElement("li");t.className="artist-card";const n=document.createElement("img");n.src=e.strArtistThumb||"https://placehold.co/150x150/cccccc/333333?text=No+Image",n.alt=e.strArtist||"No Image",n.onerror=function(){this.src="https://placehold.co/150x150/cccccc/333333?text=No+Image",this.alt="No Image Available"},t.appendChild(n);const o=document.createElement("p"),r=K(e);if(r.length>0){const b=document.createElement("ul");b.classList.add("artist-genres-list"),r.forEach(I=>{const v=document.createElement("li");v.classList.add("genres-list-item"),v.textContent=I,b.appendChild(v)}),o.appendChild(b)}else o.textContent="N/A";t.appendChild(o);const s=document.createElement("h3");s.textContent=e.strArtist||"Unknown Artist",t.appendChild(s);const a=document.createElement("p");a.className="artist-description";const l=e.strBiographyEN||"No short info available.";a.textContent=l.length>200?l.slice(0,200)+"...":l,t.appendChild(a);const i=document.createElement("button");i.className="learn-more-btn",i.textContent="Learn More",i.dataset.artistId=e._id;const c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("class","learn-more-icon"),c.setAttribute("width","24"),c.setAttribute("height","24");const p=document.createElementNS("http://www.w3.org/2000/svg","use");return p.setAttribute("href","#icon-caret-right"),c.appendChild(p),i.appendChild(c),t.appendChild(i),t},w=async()=>{G();try{const e=await D({page:L,limit:A}),t=Array.isArray(e==null?void 0:e.artists)?e.artists:[];if(!t.length){d.classList.add("hidden"),d.disabled=!0;return}for(const n of t){const o=await z(n);y.appendChild(o)}L++,t.length<A&&(d.classList.add("hidden"),d.disabled=!0)}catch{alert("Failed to load artists. Please try again later."),d.classList.add("hidden"),d.disabled=!0}finally{V()}},W=()=>{y=document.getElementById("artists"),d=document.getElementById("loadMoreBtn"),!(!y||!d)&&(d.addEventListener("click",w),y.addEventListener("click",e=>{const t=e.target.closest(".learn-more-btn");if(t){const n=t.dataset.artistId;console.log(`Artist clicked: ${n}`),_(n)}}),w())};document.addEventListener("DOMContentLoaded",W);
//# sourceMappingURL=index.js.map
