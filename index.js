import{a as b}from"./assets/vendor-BEnbeQyM.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const A=b.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:5e3,headers:{"Content-Type":"application/json"}});async function L({page:t=1,limit:e=8}={}){try{return(await A.get("/artists",{params:{page:t,limit:e}})).data}catch(s){throw s}}const g=8;let f=1,l,o;const C=()=>{const t=document.getElementById("loader");t==null||t.classList.remove("hidden")},w=()=>{const t=document.getElementById("loader");t==null||t.classList.add("hidden")},I=t=>!t||typeof t!="object"?[]:Array.isArray(t.genres)?t.genres.filter(Boolean):[],N=t=>{const e=document.createElement("li");e.className="artist-card";const s=document.createElement("img");s.src=t.strArtistThumb||"https://placehold.co/150x150/cccccc/333333?text=No+Image",s.alt=t.strArtist||"No Image",s.onerror=function(){this.src="https://placehold.co/150x150/cccccc/333333?text=No+Image",this.alt="No Image Available"},e.appendChild(s);const a=document.createElement("p"),n=I(t);if(n.length>0){const m=document.createElement("ul");m.classList.add("artist-genres-list"),n.forEach(E=>{const p=document.createElement("li");p.classList.add("genres-list-item"),p.textContent=E,m.appendChild(p)}),a.appendChild(m)}else a.textContent="N/A";e.appendChild(a);const r=document.createElement("h3");r.textContent=t.strArtist||"Unknown Artist",e.appendChild(r);const i=document.createElement("p");i.className="artist-description";const u=t.strBiographyEN||"No short info available.";i.textContent=u.length>200?u.slice(0,200)+"...":u,e.appendChild(i);const c=document.createElement("button");c.className="learn-more-btn",c.textContent="Learn More",c.dataset.artistId=t._id;const d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttribute("class","learn-more-icon"),d.setAttribute("width","24"),d.setAttribute("height","24");const h=document.createElementNS("http://www.w3.org/2000/svg","use");return h.setAttribute("href","#icon-caret-right"),d.appendChild(h),c.appendChild(d),e.appendChild(c),e},y=async()=>{C();try{const t=await L({page:f,limit:g}),e=Array.isArray(t==null?void 0:t.artists)?t.artists:[];if(!e.length){o.classList.add("hidden"),o.disabled=!0;return}for(const s of e){const a=await N(s);l.appendChild(a)}f++,e.length<g&&(o.classList.add("hidden"),o.disabled=!0)}catch{alert("Failed to load artists. Please try again later."),o.classList.add("hidden"),o.disabled=!0}finally{w()}},v=()=>{l=document.getElementById("artists"),o=document.getElementById("loadMoreBtn"),!(!l||!o)&&(o.addEventListener("click",y),l.addEventListener("click",t=>{const e=t.target.closest(".learn-more-btn");if(e){const s=e.dataset.artistId;console.log(`Artist clicked: ${s}`)}}),y())};document.addEventListener("DOMContentLoaded",v);
//# sourceMappingURL=index.js.map
