import{a as S}from"./assets/vendor-BEnbeQyM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const N=document.querySelector(".burger-btn"),b=document.querySelector(".mobile-menu"),k=document.querySelector(".mobile-menu-close"),$=document.querySelectorAll(".mobile-nav-link"),R=document.querySelectorAll(".nav-link"),x=document.querySelector(".page-header"),w=document.getElementById("scrollToTopBtnDesktop"),C=document.getElementById("scrollToTopBtnMobile"),A=document.getElementById("footerLogo"),L=document.getElementById("footerLogoDesktop");N&&N.addEventListener("click",()=>{b.classList.add("is-open"),document.body.style.overflow="hidden"});k&&k.addEventListener("click",()=>{b.classList.remove("is-open"),document.body.style.overflow=""});w==null||w.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});C==null||C.addEventListener("click",function(e){e.preventDefault(),b.classList.remove("is-open"),document.body.style.overflow="",window.scrollTo({top:0,behavior:"smooth"})});function D(e){const t=document.querySelector(e);if(t){const n=x.offsetHeight,o=t.getBoundingClientRect().top+window.pageYOffset-n;window.scrollTo({top:o,behavior:"smooth"})}}R.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=t.currentTarget.getAttribute("href");D(n)})});$.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=t.currentTarget.getAttribute("href");D(n),b.classList.remove("is-open"),document.body.style.overflow=""})});window.addEventListener("DOMContentLoaded",()=>{const e=window.location.hash;if(e){const t=document.querySelector(e);if(t){const n=x.offsetHeight,o=t.getBoundingClientRect().top+window.pageYOffset-n;setTimeout(()=>{window.scrollTo({top:o,behavior:"auto"})},0)}}});function P(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}A==null||A.addEventListener("click",P);L==null||L.addEventListener("click",P);const U=S.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:5e3,headers:{"Content-Type":"application/json"}}),Y="https://sound-wave.b.goit.study/api";async function j({page:e=1,limit:t=8}={}){try{return(await U.get("/artists",{params:{page:e,limit:t}})).data}catch(n){throw n}}async function F(e){try{return(await S.get(`${Y}/artists/${e}`)).data}catch(t){throw console.error(`Failed to fetch artist with ID ${e}:`,t),t}}const _="/Stream116-js-prjt18/assets/icons-DUpbwh8u.svg",m=document.querySelector(".artist-modal-backdrop"),G=m.querySelector(".artist-modal-window"),u=m.querySelector(".artist-modal-content"),g=m.querySelector(".artist-modal-close-btn"),f=document.getElementById("artistModalLoader");function O(e){e.key==="Escape"&&p()}function q(e){e.target===m&&p()}function T(e,t){if(!t)return null;const n=document.createElement("div");n.className="folder-box";const r=document.createElement("h3");r.className="years-title",r.textContent=e;const o=document.createElement("p");return o.className="years-item",o.textContent=t,n.appendChild(r),n.appendChild(o),n}function V(e){if(!e||!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");return t.className="janr",e.forEach(n=>{const r=document.createElement("p");r.className="janr-item",r.textContent=n,t.appendChild(r)}),t}function K(e){if(!e||isNaN(e))return"--:--";const t=e>1e3?Math.round(e/1e3):e,n=Math.floor(t/60),r=t%60;return`${n}:${r.toString().padStart(2,"0")}`}function z(e){if(!Array.isArray(e)||e.length===0)return[];const t=new Map;return e.forEach(n=>{if(!n.strAlbum)return;t.has(n.strAlbum)||t.set(n.strAlbum,{strAlbum:n.strAlbum,tracks:[]});const r=n.movie||n.strTrackThumb&&n.strTrackThumb.replace("/preview","")||null;t.get(n.strAlbum).tracks.push({strTrack:n.strTrack,intDuration:n.intDuration,strMusicVid:r})}),Array.from(t.values())}function W(e){if(!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");t.className="tracks-container";const n=document.createElement("ul");return n.className="track-name",n.innerHTML=`
    <li class="name-column-item item-col-1">Track</li>
    <li class="name-column-item item-col-2">Time</li>
    <li class="name-column-item item-col-3">Link</li>
  `,t.appendChild(n),e.forEach((r,o)=>{const s=document.createElement("ul");s.className="track-name";const i=document.createElement("li");i.className="track-name-item item-col-1",i.textContent=r.strTrack||"Untitled";const l=document.createElement("li");l.className="track-name-item item-col-2",l.textContent=K(r.intDuration);const a=document.createElement("li");if(a.className="track-name-item item-col-3",r.strMusicVid){const c=document.createElement("a");c.href=r.strMusicVid,c.target="_blank",c.rel="noopener noreferrer",c.title=`Watch ${r.strTrack} on YouTube`,c.innerHTML=`
        <svg class="icon-youtube" width="24" height="24">
          <use href="${_}#icon-Youtube"></use>
        </svg>
      `,c.className="youtube-link",a.appendChild(c)}s.appendChild(i),s.appendChild(l),s.appendChild(a),t.appendChild(s)}),t}function J(e){if(!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");t.className="album-box";const n=document.createElement("h2");n.className="album-title",n.textContent="Albums",t.appendChild(n);const r=document.createElement("div");return r.className="albums-grid",e.forEach(o=>{const s=document.createElement("div");s.className="album-title-box";const i=document.createElement("h3");if(i.className="name-album",i.textContent=o.strAlbum||"Untitled Album",s.appendChild(i),o.tracks&&Array.isArray(o.tracks)){const l=W(o.tracks);l&&s.appendChild(l)}t.appendChild(s)}),t}function Q(e){u.innerHTML="";const t=z(e.tracksList),n=document.createElement("button");n.className="modal-close-btn",n.type="button",n.innerHTML=`
    <svg class="icon" width="24" height="24">
      <use href="./img/icons.svg#icon-close"></use>
    </svg>
  `,n.addEventListener("click",c=>{p()}),u.appendChild(n);const r=document.createElement("h2");r.className="title-name",r.textContent=e.strArtist,u.appendChild(r);const o=document.createElement("div");if(o.className="artist-info-container",e.strArtistThumb){const c=document.createElement("img");c.className="artist-photo",c.src=e.strArtistThumb,c.alt=e.strArtist,o.appendChild(c)}const s=document.createElement("div");s.className="folder";const i=document.createElement("div");i.className="key-info-container",[{title:"Years active",content:e.intFormedYear?`${e.intFormedYear}â€“present`:void 0},{title:"Sex",content:e.strGender},{title:"Members",content:e.intMembers||"1"},{title:"Country",content:e.strCountry}].forEach(c=>{const h=T(c.title,c.content);h&&i.appendChild(h)}),s.appendChild(i);const a=T("Biography",e.strBiographyEN);if(a&&(a.className="folder-box biography",s.appendChild(a)),e.genres&&Array.isArray(e.genres)){const c=V(e.genres);c&&s.appendChild(c)}if(o.appendChild(s),u.appendChild(o),t.length>0){const c=J(t);c&&u.appendChild(c)}else console.log("No albums data found or invalid format")}async function X(e){try{m.classList.remove("visually-hidden"),document.body.style.overflow="hidden",f&&(f.style.display="block");const t=await F(e);f&&(f.style.display="none"),Q(t),document.addEventListener("keydown",O),m.addEventListener("click",q),g&&g.addEventListener("click",p)}catch(t){console.error("Error opening modal:",t),p()}}function p(){document.body.style.overflow="",m.classList.add("visually-hidden"),document.removeEventListener("keydown",O),m.removeEventListener("click",q),g&&g.removeEventListener("click",p),u.innerHTML=""}document.addEventListener("DOMContentLoaded",()=>{window.modalSection=m,window.modalOverlay=G,window.modalContent=u,window.closeModalBtn=g,window.loader=f});const B=8;let I=1,y,d;const Z=()=>{const e=document.getElementById("loader");e==null||e.classList.remove("hidden")},ee=()=>{const e=document.getElementById("loader");e==null||e.classList.add("hidden")},te=e=>!e||typeof e!="object"?[]:Array.isArray(e.genres)?e.genres.filter(Boolean):[],ne=e=>{const t=document.createElement("li");t.className="artist-card";const n=document.createElement("img");n.src=e.strArtistThumb||"https://placehold.co/150x150/cccccc/333333?text=No+Image",n.alt=e.strArtist||"No Image",n.onerror=function(){this.src="https://placehold.co/150x150/cccccc/333333?text=No+Image",this.alt="No Image Available"},t.appendChild(n);const r=document.createElement("p"),o=te(e);if(o.length>0){const E=document.createElement("ul");E.classList.add("artist-genres-list"),o.forEach(H=>{const v=document.createElement("li");v.classList.add("genres-list-item"),v.textContent=H,E.appendChild(v)}),r.appendChild(E)}else r.textContent="N/A";t.appendChild(r);const s=document.createElement("h3");s.textContent=e.strArtist||"Unknown Artist",t.appendChild(s);const i=document.createElement("p");i.className="artist-description";const l=e.strBiographyEN||"No short info available.";i.textContent=l.length>200?l.slice(0,200)+"...":l,t.appendChild(i);const a=document.createElement("button");a.className="learn-more-btn",a.textContent="Learn More",a.dataset.artistId=e._id;const c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("class","learn-more-icon"),c.setAttribute("width","24"),c.setAttribute("height","24");const h=document.createElementNS("http://www.w3.org/2000/svg","use");return h.setAttribute("href","#icon-caret-right"),c.appendChild(h),a.appendChild(c),t.appendChild(a),t},M=async()=>{Z();try{const e=await j({page:I,limit:B}),t=Array.isArray(e==null?void 0:e.artists)?e.artists:[];if(!t.length){d.classList.add("hidden"),d.disabled=!0;return}for(const n of t){const r=await ne(n);y.appendChild(r)}I++,t.length<B&&(d.classList.add("hidden"),d.disabled=!0)}catch{alert("Failed to load artists. Please try again later."),d.classList.add("hidden"),d.disabled=!0}finally{ee()}},oe=()=>{y=document.getElementById("artists"),d=document.getElementById("loadMoreBtn"),!(!y||!d)&&(d.addEventListener("click",M),y.addEventListener("click",e=>{const t=e.target.closest(".learn-more-btn");if(t){const n=t.dataset.artistId;console.log(`Artist clicked: ${n}`),X(n)}}),M())};document.addEventListener("DOMContentLoaded",oe);
//# sourceMappingURL=index.js.map
