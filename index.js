import{a as S,i as k,S as U}from"./assets/vendor-CSZE2PVx.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const I=document.querySelector(".burger-btn"),C=document.querySelector(".mobile-menu"),M=document.querySelector(".mobile-menu-close"),Y=document.querySelectorAll(".mobile-nav-link"),_=document.querySelectorAll(".nav-link"),O=document.querySelector(".page-header"),A=document.getElementById("scrollToTopBtnDesktop"),N=document.getElementById("scrollToTopBtnMobile"),T=document.getElementById("footerLogo"),x=document.getElementById("footerLogoDesktop");I&&I.addEventListener("click",()=>{C.classList.add("is-open"),document.body.style.overflow="hidden"});M&&M.addEventListener("click",()=>{C.classList.remove("is-open"),document.body.style.overflow=""});A==null||A.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});N==null||N.addEventListener("click",function(e){e.preventDefault(),C.classList.remove("is-open"),document.body.style.overflow="",window.scrollTo({top:0,behavior:"smooth"})});function $(e){const t=document.querySelector(e);if(t){const n=O.offsetHeight,s=t.getBoundingClientRect().top+window.pageYOffset-n;window.scrollTo({top:s,behavior:"smooth"})}}_.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=t.currentTarget.getAttribute("href");$(n)})});Y.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=t.currentTarget.getAttribute("href");$(n),C.classList.remove("is-open"),document.body.style.overflow=""})});window.addEventListener("DOMContentLoaded",()=>{const e=window.location.hash;if(e){const t=document.querySelector(e);if(t){const n=O.offsetHeight,s=t.getBoundingClientRect().top+window.pageYOffset-n;setTimeout(()=>{window.scrollTo({top:s,behavior:"auto"})},0)}}});function H(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}T==null||T.addEventListener("click",H);x==null||x.addEventListener("click",H);const z=S.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:5e3,headers:{"Content-Type":"application/json"}}),G="https://sound-wave.b.goit.study/api";async function V({page:e=1,limit:t=8}={}){try{return(await z.get("/artists",{params:{page:e,limit:t}})).data}catch(n){throw n}}async function K(e){try{return(await S.get(`${G}/artists/${e}`)).data}catch(t){throw console.error(`Failed to fetch artist with ID ${e}:`,t),t}}async function W(e,t={}){try{const n=await S.get(e,{headers:{accept:"application/json",...t.headers},...t});if(!n.data)throw new Error(`HTTP error! status: ${n.status}`);return n.data}catch(n){throw n}}const F="/Stream116-js-prjt18/assets/icons-DUpbwh8u.svg",p=document.querySelector(".artist-modal-backdrop"),Z=p.querySelector(".artist-modal-window"),h=p.querySelector(".artist-modal-content"),b=p.querySelector(".artist-modal-close-btn"),v=document.getElementById("artistModalLoader");function R(e){e.key==="Escape"&&g()}function j(e){e.target===p&&g()}function B(e,t){if(!t)return null;const n=document.createElement("div");n.className="folder-box";const r=document.createElement("h3");r.className="years-title",r.textContent=e;const s=document.createElement("p");return s.className="years-item",s.textContent=t,n.appendChild(r),n.appendChild(s),n}function J(e){if(!e||!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");return t.className="janr",e.forEach(n=>{const r=document.createElement("p");r.className="janr-item",r.textContent=n,t.appendChild(r)}),t}function Q(e){if(!e||isNaN(e))return"--:--";const t=e>1e3?Math.round(e/1e3):e,n=Math.floor(t/60),r=t%60;return`${n}:${r.toString().padStart(2,"0")}`}function X(e){if(!Array.isArray(e)||e.length===0)return[];const t=new Map;return e.forEach(n=>{if(!n.strAlbum)return;t.has(n.strAlbum)||t.set(n.strAlbum,{strAlbum:n.strAlbum,tracks:[]});const r=n.movie||n.strTrackThumb&&n.strTrackThumb.replace("/preview","")||null;t.get(n.strAlbum).tracks.push({strTrack:n.strTrack,intDuration:n.intDuration,strMusicVid:r})}),Array.from(t.values())}function ee(e){if(!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");t.className="tracks-container";const n=document.createElement("ul");return n.className="track-name",n.innerHTML=`
    <li class="name-column-item item-col-1">Track</li>
    <li class="name-column-item item-col-2">Time</li>
    <li class="name-column-item item-col-3">Link</li>
  `,t.appendChild(n),e.forEach((r,s)=>{const i=document.createElement("ul");i.className="track-name";const d=document.createElement("li");d.className="track-name-item item-col-1",d.textContent=r.strTrack||"Untitled";const c=document.createElement("li");c.className="track-name-item item-col-2",c.textContent=Q(r.intDuration);const a=document.createElement("li");if(a.className="track-name-item item-col-3",r.strMusicVid){const o=document.createElement("a");o.href=r.strMusicVid,o.target="_blank",o.rel="noopener noreferrer",o.title=`Watch ${r.strTrack} on YouTube`,o.innerHTML=`
        <svg class="icon-youtube" width="24" height="24">
          <use href="${F}#icon-Youtube"></use>
        </svg>
      `,o.className="youtube-link",a.appendChild(o)}i.appendChild(d),i.appendChild(c),i.appendChild(a),t.appendChild(i)}),t}function te(e){if(!Array.isArray(e)||e.length===0)return null;const t=document.createElement("div");t.className="album-box";const n=document.createElement("h2");n.className="album-title",n.textContent="Albums",t.appendChild(n);const r=document.createElement("div");return r.className="albums-grid",e.forEach(s=>{const i=document.createElement("div");i.className="album-title-box";const d=document.createElement("h3");if(d.className="name-album",d.textContent=s.strAlbum||"Untitled Album",i.appendChild(d),s.tracks&&Array.isArray(s.tracks)){const c=ee(s.tracks);c&&i.appendChild(c)}t.appendChild(i)}),t}function ne(e){h.innerHTML="";const t=X(e.tracksList),n=document.createElement("button");n.className="modal-close-btn",n.type="button",n.innerHTML=`
    <svg class="icon" width="24" height="24">
      <use href="${F}#icon-close"></use>
    </svg>
  `,n.addEventListener("click",o=>{g()}),h.appendChild(n);const r=document.createElement("h2");r.className="title-name",r.textContent=e.strArtist,h.appendChild(r);const s=document.createElement("div");if(s.className="artist-info-container",e.strArtistThumb){const o=document.createElement("img");o.className="artist-photo",o.src=e.strArtistThumb,o.alt=e.strArtist,s.appendChild(o)}const i=document.createElement("div");i.className="folder";const d=document.createElement("div");d.className="key-info-container",[{title:"Years active",content:e.intFormedYear?`${e.intFormedYear}â€“present`:void 0},{title:"Sex",content:e.strGender},{title:"Members",content:e.intMembers||"1"},{title:"Country",content:e.strCountry}].forEach(o=>{const l=B(o.title,o.content);l&&d.appendChild(l)}),i.appendChild(d);const a=B("Biography",e.strBiographyEN);if(a&&(a.className="folder-box biography",i.appendChild(a)),e.genres&&Array.isArray(e.genres)){const o=J(e.genres);o&&i.appendChild(o)}if(s.appendChild(i),h.appendChild(s),t.length>0){const o=te(t);o&&h.appendChild(o)}else console.log("No albums data found or invalid format")}async function oe(e){try{p.classList.remove("visually-hidden"),document.body.style.overflow="hidden",v&&(v.style.display="block");const t=await K(e);v&&(v.style.display="none"),ne(t),document.addEventListener("keydown",R),p.addEventListener("click",j),b&&b.addEventListener("click",g)}catch(t){console.error("Error opening modal:",t),g()}}function g(){document.body.style.overflow="",p.classList.add("visually-hidden"),document.removeEventListener("keydown",R),p.removeEventListener("click",j),b&&b.removeEventListener("click",g),h.innerHTML=""}document.addEventListener("DOMContentLoaded",()=>{window.modalSection=p,window.modalOverlay=Z,window.modalContent=h,window.closeModalBtn=b,window.loader=v});const P=8;let q=1,w,u;const re=()=>{const e=document.getElementById("loader");e==null||e.classList.remove("hidden")},se=()=>{const e=document.getElementById("loader");e==null||e.classList.add("hidden")},ie=e=>!e||typeof e!="object"?[]:Array.isArray(e.genres)?e.genres.filter(Boolean):[],ae=e=>{const t=document.createElement("li");t.className="artist-card";const n=document.createElement("img");n.src=e.strArtistThumb||"https://placehold.co/150x150/cccccc/333333?text=No+Image",n.alt=e.strArtist||"No Image",n.onerror=function(){this.src="https://placehold.co/150x150/cccccc/333333?text=No+Image",this.alt="No Image Available"},t.appendChild(n);const r=document.createElement("p"),s=ie(e);if(s.length>0){const m=document.createElement("ul");m.classList.add("artist-genres-list"),s.forEach(y=>{const f=document.createElement("li");f.classList.add("genres-list-item"),f.textContent=y,m.appendChild(f)}),r.appendChild(m)}else r.textContent="N/A";t.appendChild(r);const i=document.createElement("h3");i.textContent=e.strArtist||"Unknown Artist",t.appendChild(i);const d=document.createElement("p");d.className="artist-description";const c=e.strBiographyEN||"No short info available.";d.textContent=c.length>200?c.slice(0,200)+"...":c,t.appendChild(d);const a=document.createElement("button");a.className="learn-more-btn",a.textContent="Learn More",a.dataset.artistId=e._id;const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("class","learn-more-icon"),o.setAttribute("width","24"),o.setAttribute("height","24");const l=document.createElementNS("http://www.w3.org/2000/svg","use");return l.setAttribute("href","#icon-caret-right"),o.appendChild(l),a.appendChild(o),t.appendChild(a),t},D=async()=>{re();try{const e=await V({page:q,limit:P}),t=Array.isArray(e==null?void 0:e.artists)?e.artists:[];if(!t.length){u.classList.add("hidden"),u.disabled=!0;return}for(const n of t){const r=await ae(n);w.appendChild(r)}q++,t.length<P&&(u.classList.add("hidden"),u.disabled=!0)}catch{alert("Failed to load artists. Please try again later."),u.classList.add("hidden"),u.disabled=!0}finally{se()}},ce=()=>{w=document.getElementById("artists"),u=document.getElementById("loadMoreBtn"),!(!w||!u)&&(u.addEventListener("click",D),w.addEventListener("click",e=>{const t=e.target.closest(".learn-more-btn");if(t){const n=t.dataset.artistId;oe(n)}}),D())};document.addEventListener("DOMContentLoaded",ce);document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".feedback-section#reviews"),t=document.querySelector(".feedback-swiper .swiper-wrapper"),n=document.querySelector(".feedback-pagination");let r;if(!e||!t||!n){console.error("Required DOM elements not found:",{feedbackSection:e,swiperContainer:t,paginationContainer:n}),k.error({title:"Error",message:"Failed to initialize feedback section. Please check the HTML structure."});return}r=document.createElement("div"),r.className="feedback-loader",r.textContent="Loading...",e.appendChild(r);function s(c,a){let o;return function(...l){clearTimeout(o),o=setTimeout(()=>c.apply(this,l),a)}}function i(c){t.innerHTML="";const a=c.data||c;if(!Array.isArray(a)){console.error("No valid data array found:",c),k.error({title:"Error",message:"Failed to load feedback data. Invalid response format."});return}a.forEach((o,l)=>{const m=document.createElement("div");m.classList.add("swiper-slide","feedback-slide-card");const y=Math.round(o.rating);m.innerHTML=`
        <div class="feedback-slide-content">
          <div class="feedback-star-rating">
            <svg width="116" height="20" viewBox="0 0 116 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0)">
                ${d(y)}
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="116" height="20" fill="white"/>
                </clipPath>
              </defs>
            </svg>
          </div>
          <p class="feedback-comment">${o.descr}</p>
          <div class="feedback-user-info"><span class="feedback-user-name">${o.name}</span></div>
        </div>
      `,t.appendChild(m)}),n.innerHTML="";for(let o=0;o<3;o++){const l=document.createElement("div");l.classList.add("feedback-pagination-bullet"),l.setAttribute("data-index",o),o===0&&l.classList.add("active"),n.appendChild(l)}r.style.display="none"}function d(c){let a="";const o="M9.071 1.31791C9.41474 0.501451 10.5855 0.501452 10.9292 1.31791L12.958 6.1368C13.103 6.481 13.4307 6.71618 13.8068 6.74597L19.0728 7.16304C19.965 7.23371 20.3268 8.3337 19.647 8.90897L15.6349 12.3042C15.3483 12.5468 15.2231 12.9273 15.3107 13.2899L16.5365 18.3666C16.7441 19.2267 15.427 19.9066 15.0541 19.4457L10.5247 16.7251C10.2026 16.5308 9.79762 16.5308 9.4756 16.7251L4.96711 19.4457C4.20323 19.9066 3.25608 19.2267 3.46376 18.3666L4.68954 13.2899C4.7771 12.9273 4.65194 12.5468 4.36538 12.2942L0.353184 8.90897C-0.326596 8.3337 0.0351899 7.23371 0.927413 7.16304L6.19348 6.74597C6.56962 6.71618 6.89728 6.481 7.04219 6.1368L9.071 1.31794Z";for(let l=0;l<5;l++){const m=l*24;a+=`<path d="${o}" fill="${l<c?"#764191":"#fff"}" transform="translate(${m}, 0)"/>`}return a}r.style.display="block",W("https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1").then(c=>{i(c);const a=new U(".feedback-swiper",{direction:"horizontal",loop:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1,spaceBetween:0}),o=document.querySelector(".swiper-button-next"),l=document.querySelector(".swiper-button-prev");function m(){a.realIndex===0?l.classList.add("inactive"):l.classList.remove("inactive"),a.realIndex===a.slides.length-1?o.classList.add("inactive"):o.classList.remove("inactive")}a.on("init",m),a.on("slideChange",()=>{m();const y=document.querySelectorAll(".feedback-pagination-bullet"),f=a.realIndex;y.forEach(E=>{const L=parseInt(E.getAttribute("data-index"));L===0?E.classList.toggle("active",f===0):L===1?E.classList.toggle("active",f>=1&&f<=8):L===2&&E.classList.toggle("active",f===9)})}),a.init(),o&&l&&(o.addEventListener("click",s(()=>a.slideNext(),300)),l.addEventListener("click",s(()=>a.slidePrev(),300)))}).catch(c=>{console.error("Fetch error:",c),r.style.display="none",k.error({title:"Error",message:"Failed to load feedback. Please try again later."})})});
//# sourceMappingURL=index.js.map
